<mxfile host="app.diagrams.net" modified="2020-08-11T19:45:30.404Z" agent="5.0 (Macintosh)" etag="n5WYmqhE8kKJnA0EzUDx" version="13.6.2" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1141" dy="1889" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="sJDHbs98hqvbq1RDkTgL-3" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="300" y="-120" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NYlwoc8P-VWHH2dgp5Ao-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-4" target="sJDHbs98hqvbq1RDkTgL-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-4" value="sp_m_tbl_doitt_structures" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="240" y="-80" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-6" value="&lt;font style=&quot;font-size: 12px&quot;&gt;&lt;span style=&quot;font-size: 12px&quot;&gt;This stored procedure merges the source table (DoITT Buildings) with the target table (tbl_doitt_structures) in structuresdb performing updates, inserts and deletes records as required.&amp;nbsp;&lt;br style=&quot;font-size: 12px&quot;&gt;&lt;/span&gt;&lt;font style=&quot;font-size: 12px&quot; color=&quot;#ff0000&quot;&gt;[ADD GITHUB LINK HERE]&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="10" y="-52" width="190" height="150" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-8" target="sJDHbs98hqvbq1RDkTgL-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-8" target="sJDHbs98hqvbq1RDkTgL-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-8" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;Is the unique identifer (doitt_id) NULL in doitt_building in InterimDB?&amp;nbsp;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="260" y="-40" width="110" height="90" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-14" value="No Transaction Required" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.octagon2;align=center;verticalAlign=middle;dx=15;fillColor=#e51400;strokeColor=#B20000;fontColor=#ffffff;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="490" y="-45" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-15" target="sJDHbs98hqvbq1RDkTgL-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-15" value="Yes" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="413.5" y="-10" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-19" target="sJDHbs98hqvbq1RDkTgL-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-19" value="No" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="295" y="90" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-21" target="sJDHbs98hqvbq1RDkTgL-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-21" target="sJDHbs98hqvbq1RDkTgL-35" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-21" value="&lt;font style=&quot;font-size: 12px&quot;&gt;Does the doitt_id exist in both InterimDB doitt_building and structuresDB tbl_doitt_structures?&amp;nbsp;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="215" y="190" width="200" height="90" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-23" target="sJDHbs98hqvbq1RDkTgL-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-23" value="Yes" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="480" y="220" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-25" target="sJDHbs98hqvbq1RDkTgL-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-25" target="sJDHbs98hqvbq1RDkTgL-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-25" value="Are the attribute information or geometry different between doitt_building and tbl_doitt_structures?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="556" y="195" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-27" target="sJDHbs98hqvbq1RDkTgL-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-27" value="No" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="601" y="350" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-29" value="No Transaction Required" style="whiteSpace=wrap;html=1;shape=mxgraph.basic.octagon2;align=center;verticalAlign=middle;dx=15;fillColor=#e51400;strokeColor=#B20000;fontColor=#ffffff;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="833" y="315" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-31" value="Update all of the column values for the record in tbl_doitt_structures except for doitt_id" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="813" y="205" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-32" target="sJDHbs98hqvbq1RDkTgL-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-32" value="Yes" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="726" y="220" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-35" target="sJDHbs98hqvbq1RDkTgL-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-35" value="No" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="295" y="350" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-44" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-37" target="sJDHbs98hqvbq1RDkTgL-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-37" target="sJDHbs98hqvbq1RDkTgL-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-37" value="Does the doitt_id exist in doitt_building, but not tbl_doitt_structures?" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="220" y="465" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="sJDHbs98hqvbq1RDkTgL-39" target="sJDHbs98hqvbq1RDkTgL-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-39" value="Yes*" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="457" y="490" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-40" value="No**" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="295" y="595" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-41" value="*If yes, then doitt_id exists in doitt_building but not tbl_doitt_structures.&amp;nbsp;&lt;br&gt;&lt;br&gt;*If no, doitt_id exists in tbl_doitt_structures but not doitt_building" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="30" y="465" width="170" height="150" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-42" value="Insert new record into tbl_doitt_structures" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="565" y="475" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-43" value="Delete record from tbl_doitt_structures" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="245" y="690" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-47" value="&lt;b&gt;End&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="615" y="535" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-48" value="&lt;b&gt;End&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="295" y="750" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-50" value="&lt;b&gt;End&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="863" y="265" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="sJDHbs98hqvbq1RDkTgL-51" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;tbl_doitt_structures is a subset of InterimDB doitt_building that includes the following columns:&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;&lt;font color=&quot;#ff0000&quot;&gt;[DATA DICTIONARY LINK HERE]&lt;/font&gt;&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- BIN&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- base_bbl&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- mappluto_bbl&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- doitt_id&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- ground_elevation&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- height_roof&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- doitt_source&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- construction_year&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- alteration_year&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- demolition_year&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- last_status_type&lt;/i&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;i&gt;- shape&lt;/i&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="630" y="-80" width="277" height="220" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
